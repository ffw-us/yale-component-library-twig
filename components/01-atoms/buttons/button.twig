{#
 # Available props
 # Reference: https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/button_role#associated_aria_roles_states_and_properties
 # - aria_pressed: whether the button is pressed or not
 # - aria_expanded: whether the controlled grouping is expanded or not
 # - aria_controls (required if aria_expanded is used): id of the grouping element that is controlled
 # - button__hover_style: fade (default), rise, or swipe
 # - button__radius: none (default), soft, or pill
 # - button__style: filled (defualt) or outline
 # - button__outline_weight: 1 (default), 2, or 4
 #
 # Available variables:
 # - button__content - the content of the button (typically text)
 #
 # Available blocks:
 # - button__content - used to replace the content of the button with something other than text
 #   for example: to insert an icon
 #}

{% set button__base_class = button__base_class|default('button') %}
{% set button__element = button__element|default('button') %}

{% set button__attributes = {
  class: bem(button__base_class, button__modifiers, button__blockname),
  'data-button-hover-style': button__hover_style|default('fade'),
  'data-button-radius': button__radius|default('none'),
  'data-button-style': button__style|default('filled'),
  'data-button-outline-weight': button__outline_weight|default('2'),
} %}

{% if aria_pressed %}
  {% set button__attributes = button__attributes|merge({
    'aria-pressed': aria_pressed,
  }) %}
{% endif %}

{% if aria_expanded %}
  {% set button__attributes = button__attributes|merge({
    'aria-expanded': aria_expanded,
    'aira-controls': aria_controls,
  }) %}
{% endif %}

{% if button__href %}
  {% set button__attributes = button__attributes|merge({
    href: button__href,
  }) %}
  {% set button__element = 'a' %}
{% endif %}

<{{ button__element }} {{ add_attributes(button__attributes) }}>
  {% block button__content %}
    {{ button__content }}
  {% endblock %}
</{{ button__element }}>
