{% set tabs__base_class = 'tabs' %}
{% set tabs__id = tabs__id|default(random()) %}

<div {{ bem(tabs__base_class, [], tabs__blockname, ['no-js']) }}>
  <ul {{ bem('nav', [], tabs__base_class) }} role="tablist">
    {% for key, tab in tabs %}
      {% if key == 0 %}
        {% set aria_selected = 'aria-selected="true"' %}
      {% else %}
        {% set tab_index = 'tabindex="-1"' %}
      {% endif %}
      <li {{ bem('item', [], tabs__base_class) }} role="presentation">
        <a {{ bem('link', [], tabs__base_class) }} role="tab" {{ tab_index }} {{ aria_selected }} href="{{ "#tab-" ~ tabs__id ~ '-' ~ key }}">
          {{ tab.tab__label }}
        </a>
      </li>
    {% endfor %}
  </ul>
  {% for key, tab in tabs %}
    {% if key == 0 %}
      {% set active_class = 'is-active' %}
    {% endif %}
    <div {{ bem('container', [], tabs__base_class, [active_class]) }} role="tabpanel">
      <div id="tab-{{ tabs__id ~ '-' ~ key }}" {{ bem('content', [], tabs__base_class) }}>
        {{ tab.tab__content }}
      </div>
    </div>
  {% endfor %}
</div>
