@use '../../00-tokens/tokens';

$wrapped-image-max: '1470px';

.wrapped-image {
  @include tokens.spacing-page-inner;

  // Clear the float in case the next component is an image or something.
  &::after {
    content: '';
    display: block;
    clear: both;
  }

  &[data-component-width='site'][data-wrapped-image-alignment] {
    width: 100%;
    margin: 0 auto;
    padding-inline: var(--size-spacing-site-gutter);

    @media (min-width: $wrapped-image-max) {
      max-width: var(--size-component-layout-width-site);
      padding-inline: 0;
    }
  }
}

.wrapped-image__inner {
  position: relative;

  [data-component-width='site'] & {
    width: 100%;

    @media (min-width: $wrapped-image-max) {
      margin: 0;
      max-width: var(--size-component-layout-width-content);
    }
  }
}

.wrapped-image__image {
  margin-bottom: var(--size-spacing-7);

  @media (min-width: tokens.$break-l) {
    top: 0;
    width: 50%;
    margin-bottom: var(--size-spacing-7);

    // floated
    [data-wrapped-image-style='floated'][data-wrapped-image-alignment='left']
      & {
      float: left;
      margin-right: 5%;
      margin-top: var(--size-spacing-4);
    }

    [data-wrapped-image-style='floated'][data-wrapped-image-alignment='right']
      & {
      float: right;
      margin-left: 5%;
      margin-top: var(--size-spacing-4);
    }

    // offset
    [data-wrapped-image-style='offset'][data-wrapped-image-alignment='left'] & {
      float: left;
      transform: translateX(-20%);
      margin-right: -5%;
    }

    [data-wrapped-image-style='offset'][data-wrapped-image-alignment='right']
      & {
      float: right;
      transform: translateX(20%);
      margin-left: -5%;
    }
  }

  > *,
  figure > * {
    width: 100%;
  }
}
