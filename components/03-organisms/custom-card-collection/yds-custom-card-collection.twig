{#
 # Available Props:
 # - custom_card_collection__featured: boolean (ish... actually just a string. But should be 'true', or 'false')
 # - card_collection__width: max or feature, determines how wide the collection is
 # - num_cards: Calculated number of cards to create class for flex grow if one item
 #
 # Available Variables:
 # - collection_heading
 #
 # Available Blocks:
 # - card_collection__cards
 #}

{% set custom_card_collection__base_class = 'custom-card-collection' %}
{% set num_cards = custom_card_collection__cards|length == 1 ? 'one-card' : 'multiple-cards' %}

{% set custom_card_collection__featured = custom_card_collection__featured == 'true' ? 'true' : 'false' %}
{% set card_collection__width = custom_card_collection__featured == 'true' ? 'feature' : 'max' %}

{% set custom_card_collection__attributes = {
  'data-collection-featured': custom_card_collection__featured,
  'data-component-width': card_collection__width,
  'class': bem(custom_card_collection__base_class),
} %}

<div {{ add_attributes(custom_card_collection__attributes) }}>
  <div {{ bem('inner', [], custom_card_collection__base_class) }}>
    {% if collection_heading %}
      {% include "@atoms/typography/headings/yds-heading.twig" with {
        heading__level: '2',
        heading__blockname: custom_card_collection__base_class,
        heading: collection_heading,
      } %}
    {% endif %}
    <ul {{ bem('cards', [num_cards], custom_card_collection__base_class) }}>
      {% block card_collection__cards %}
        {% for card in custom_card_collection__cards %}
          {% include "@molecules/cards/custom-card/yds-custom-card.twig" with {
            collection_heading: collection_heading
            }
          %}
        {% endfor %}
      {% endblock %}
    </ul>
  </div>
</div>
